<frozen importlib._bootstrap>:488: RuntimeWarning: The global interpreter lock (GIL) has been enabled to load module 'greenlet._greenlet', which has not declared that it can run safely without the GIL. To override this behavior and keep the GIL disabled (at your own risk), run with PYTHON_GIL=0 or -Xgil=0.
INFO:     Will watch for changes in these directories: ['/mnt/f/Progetti_WSL/seo-auditing-solution']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [6051] using StatReload
<frozen importlib._bootstrap>:488: RuntimeWarning: The global interpreter lock (GIL) has been enabled to load module 'greenlet._greenlet', which has not declared that it can run safely without the GIL. To override this behavior and keep the GIL disabled (at your own risk), run with PYTHON_GIL=0 or -Xgil=0.
INFO:     Started server process [6186]
INFO:     Waiting for application startup.
2025-06-15 14:23:58,324 - root - INFO - Starting SEO Auditing Solution...
2025-06-15 14:23:58,344 - app.database - INFO - Database tables created successfully
2025-06-15 14:23:58,344 - root - INFO - Database initialized successfully
INFO:     Application startup complete.
INFO:     127.0.0.1:46120 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:46120 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:46120 - "GET /api/v1/clients/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:46120 - "GET /api/v1/websites/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:57690 - "GET /docs HTTP/1.1" 200 OK
INFO:     127.0.0.1:57690 - "GET /openapi.json HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/fastapi/applications.py", line 1009, in openapi
    return JSONResponse(self.openapi())
                        ~~~~~~~~~~~~^^
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/fastapi/applications.py", line 981, in openapi
    self.openapi_schema = get_openapi(
                          ~~~~~~~~~~~^
        title=self.title,
        ^^^^^^^^^^^^^^^^^
    ...<11 lines>...
        separate_input_output_schemas=self.separate_input_output_schemas,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/fastapi/openapi/utils.py", line 514, in get_openapi
    field_mapping, definitions = get_definitions(
                                 ~~~~~~~~~~~~~~~^
        fields=all_fields,
        ^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        separate_input_output_schemas=separate_input_output_schemas,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/fastapi/_compat.py", line 231, in get_definitions
    field_mapping, definitions = schema_generator.generate_definitions(
                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        inputs=inputs
        ^^^^^^^^^^^^^
    )
    ^
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/pydantic/json_schema.py", line 363, in generate_definitions
    self.generate_inner(schema)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/pydantic/json_schema.py", line 443, in generate_inner
    if 'ref' in schema:
       ^^^^^^^^^^^^^^^
  File "<frozen _collections_abc>", line 817, in __contains__
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/pydantic/_internal/_mock_val_ser.py", line 41, in __getitem__
    return self._get_built().__getitem__(key)
           ~~~~~~~~~~~~~~~^^
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/pydantic/_internal/_mock_val_ser.py", line 58, in _get_built
    raise PydanticUserError(self._error_message, code=self._code)
pydantic.errors.PydanticUserError: `TypeAdapter[typing.Annotated[app.schemas.client.ClientWithWebsites, FieldInfo(annotation=ClientWithWebsites, required=True)]]` is not fully defined; you should define `typing.Annotated[app.schemas.client.ClientWithWebsites, FieldInfo(annotation=ClientWithWebsites, required=True)]` and all referenced types, then call `.rebuild()` on the instance.

For further information visit https://errors.pydantic.dev/2.11/u/class-not-fully-defined
INFO:     127.0.0.1:57706 - "GET /robots.txt?486108 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:57698 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:57708 - "GET /robots.txt?486108 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:57698 - "GET /favicon.ico HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:57698 - "GET /api/v1/clients/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:57708 - "GET /robots.txt?486108 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:57698 - "GET /api/v1/websites/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:57708 - "GET /robots.txt?486108 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:57698 - "GET /api/v1/scans/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:57708 - "GET /robots.txt?486108 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:49056 - "GET /openapi.json HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/fastapi/applications.py", line 1009, in openapi
    return JSONResponse(self.openapi())
                        ~~~~~~~~~~~~^^
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/fastapi/applications.py", line 981, in openapi
    self.openapi_schema = get_openapi(
                          ~~~~~~~~~~~^
        title=self.title,
        ^^^^^^^^^^^^^^^^^
    ...<11 lines>...
        separate_input_output_schemas=self.separate_input_output_schemas,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/fastapi/openapi/utils.py", line 514, in get_openapi
    field_mapping, definitions = get_definitions(
                                 ~~~~~~~~~~~~~~~^
        fields=all_fields,
        ^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        separate_input_output_schemas=separate_input_output_schemas,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/fastapi/_compat.py", line 231, in get_definitions
    field_mapping, definitions = schema_generator.generate_definitions(
                                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        inputs=inputs
        ^^^^^^^^^^^^^
    )
    ^
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/pydantic/json_schema.py", line 363, in generate_definitions
    self.generate_inner(schema)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/pydantic/json_schema.py", line 443, in generate_inner
    if 'ref' in schema:
       ^^^^^^^^^^^^^^^
  File "<frozen _collections_abc>", line 817, in __contains__
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/pydantic/_internal/_mock_val_ser.py", line 41, in __getitem__
    return self._get_built().__getitem__(key)
           ~~~~~~~~~~~~~~~^^
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/pydantic/_internal/_mock_val_ser.py", line 58, in _get_built
    raise PydanticUserError(self._error_message, code=self._code)
pydantic.errors.PydanticUserError: `TypeAdapter[typing.Annotated[app.schemas.client.ClientWithWebsites, FieldInfo(annotation=ClientWithWebsites, required=True)]]` is not fully defined; you should define `typing.Annotated[app.schemas.client.ClientWithWebsites, FieldInfo(annotation=ClientWithWebsites, required=True)]` and all referenced types, then call `.rebuild()` on the instance.

For further information visit https://errors.pydantic.dev/2.11/u/class-not-fully-defined
WARNING:  StatReload detected changes in 'app/schemas/client.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-06-15 14:30:03,533 - root - INFO - Shutting down...
2025-06-15 14:30:03,535 - app.database - INFO - Database connections closed
2025-06-15 14:30:03,535 - root - INFO - Database connections closed
INFO:     Application shutdown complete.
INFO:     Finished server process [6186]
<frozen importlib._bootstrap>:488: RuntimeWarning: The global interpreter lock (GIL) has been enabled to load module 'greenlet._greenlet', which has not declared that it can run safely without the GIL. To override this behavior and keep the GIL disabled (at your own risk), run with PYTHON_GIL=0 or -Xgil=0.
INFO:     Started server process [6310]
INFO:     Waiting for application startup.
2025-06-15 14:30:04,918 - root - INFO - Starting SEO Auditing Solution...
2025-06-15 14:30:04,938 - app.database - INFO - Database tables created successfully
2025-06-15 14:30:04,938 - root - INFO - Database initialized successfully
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/routers/clients.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-06-15 14:30:13,989 - root - INFO - Shutting down...
2025-06-15 14:30:13,990 - app.database - INFO - Database connections closed
2025-06-15 14:30:13,990 - root - INFO - Database connections closed
INFO:     Application shutdown complete.
INFO:     Finished server process [6310]
<frozen importlib._bootstrap>:488: RuntimeWarning: The global interpreter lock (GIL) has been enabled to load module 'greenlet._greenlet', which has not declared that it can run safely without the GIL. To override this behavior and keep the GIL disabled (at your own risk), run with PYTHON_GIL=0 or -Xgil=0.
Traceback (most recent call last):
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/pydantic/main.py", line 645, in model_rebuild
    cls.__pydantic_fields__ = _fields.rebuild_model_fields(
                              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        cls,
        ^^^^
        ns_resolver=ns_resolver,
        ^^^^^^^^^^^^^^^^^^^^^^^^
        typevars_map=typevars_map,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/pydantic/_internal/_fields.py", line 326, in rebuild_model_fields
    ann = _typing_extra.eval_type(
        field_info._original_annotation,
        *ns_resolver.types_namespace,
    )
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/pydantic/_internal/_typing_extra.py", line 397, in eval_type
    return eval_type_backport(value, globalns, localns)
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/pydantic/_internal/_typing_extra.py", line 429, in eval_type_backport
    return _eval_type_backport(value, globalns, localns, type_params)
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/pydantic/_internal/_typing_extra.py", line 466, in _eval_type_backport
    return _eval_type(value, globalns, localns, type_params)
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/pydantic/_internal/_typing_extra.py", line 496, in _eval_type
    return typing._eval_type(  # type: ignore
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
        value, globalns, localns, type_params=type_params
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/typing.py", line 489, in _eval_type
    ev_args = tuple(
        _eval_type(
    ...<2 lines>...
        for a in t.__args__
    )
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/typing.py", line 490, in <genexpr>
    _eval_type(
    ~~~~~~~~~~^
        a, globalns, localns, type_params, recursive_guard=recursive_guard
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/typing.py", line 474, in _eval_type
    return t._evaluate(globalns, localns, type_params, recursive_guard=recursive_guard)
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/typing.py", line 1081, in _evaluate
    eval(self.__forward_code__, globalns, localns),
    ~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 1, in <module>
    from multiprocessing.spawn import spawn_main; spawn_main(tracker_fd=5, pipe_handle=7)
    ^^^^^^^^^^^^^^^
NameError: name 'WebsiteResponse' is not defined

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "<string>", line 1, in <module>
    from multiprocessing.spawn import spawn_main; spawn_main(tracker_fd=5, pipe_handle=7)
                                                  ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/multiprocessing/spawn.py", line 131, in _main
    prepare(preparation_data)
    ~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/multiprocessing/spawn.py", line 246, in prepare
    _fixup_main_from_path(data['init_main_from_path'])
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/multiprocessing/spawn.py", line 297, in _fixup_main_from_path
    main_content = runpy.run_path(main_path,
                                  run_name="__mp_main__")
  File "<frozen runpy>", line 287, in run_path
  File "<frozen runpy>", line 98, in _run_module_code
  File "<frozen runpy>", line 88, in _run_code
  File "/mnt/f/Progetti_WSL/seo-auditing-solution/main.py", line 8, in <module>
    from app.routers import clients, websites, scans
  File "/mnt/f/Progetti_WSL/seo-auditing-solution/app/routers/clients.py", line 11, in <module>
    ClientWithWebsites.model_rebuild()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/pydantic/main.py", line 654, in model_rebuild
    raise exc from e
pydantic.errors.PydanticUndefinedAnnotation: name 'WebsiteResponse' is not defined

For further information visit https://errors.pydantic.dev/2.11/u/undefined-annotation
WARNING:  StatReload detected changes in 'app/routers/clients.py'. Reloading...
<frozen importlib._bootstrap>:488: RuntimeWarning: The global interpreter lock (GIL) has been enabled to load module 'greenlet._greenlet', which has not declared that it can run safely without the GIL. To override this behavior and keep the GIL disabled (at your own risk), run with PYTHON_GIL=0 or -Xgil=0.
Traceback (most recent call last):
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/pydantic/main.py", line 645, in model_rebuild
    cls.__pydantic_fields__ = _fields.rebuild_model_fields(
                              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        cls,
        ^^^^
        ns_resolver=ns_resolver,
        ^^^^^^^^^^^^^^^^^^^^^^^^
        typevars_map=typevars_map,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/pydantic/_internal/_fields.py", line 326, in rebuild_model_fields
    ann = _typing_extra.eval_type(
        field_info._original_annotation,
        *ns_resolver.types_namespace,
    )
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/pydantic/_internal/_typing_extra.py", line 397, in eval_type
    return eval_type_backport(value, globalns, localns)
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/pydantic/_internal/_typing_extra.py", line 429, in eval_type_backport
    return _eval_type_backport(value, globalns, localns, type_params)
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/pydantic/_internal/_typing_extra.py", line 466, in _eval_type_backport
    return _eval_type(value, globalns, localns, type_params)
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/pydantic/_internal/_typing_extra.py", line 496, in _eval_type
    return typing._eval_type(  # type: ignore
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
        value, globalns, localns, type_params=type_params
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/typing.py", line 489, in _eval_type
    ev_args = tuple(
        _eval_type(
    ...<2 lines>...
        for a in t.__args__
    )
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/typing.py", line 490, in <genexpr>
    _eval_type(
    ~~~~~~~~~~^
        a, globalns, localns, type_params, recursive_guard=recursive_guard
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/typing.py", line 474, in _eval_type
    return t._evaluate(globalns, localns, type_params, recursive_guard=recursive_guard)
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/typing.py", line 1081, in _evaluate
    eval(self.__forward_code__, globalns, localns),
    ~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 1, in <module>
    from multiprocessing.spawn import spawn_main; spawn_main(tracker_fd=5, pipe_handle=7)
    ^^^^^^^^^^^^^^^
NameError: name 'WebsiteResponse' is not defined

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "<string>", line 1, in <module>
    from multiprocessing.spawn import spawn_main; spawn_main(tracker_fd=5, pipe_handle=7)
                                                  ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/multiprocessing/spawn.py", line 131, in _main
    prepare(preparation_data)
    ~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/multiprocessing/spawn.py", line 246, in prepare
    _fixup_main_from_path(data['init_main_from_path'])
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/multiprocessing/spawn.py", line 297, in _fixup_main_from_path
    main_content = runpy.run_path(main_path,
                                  run_name="__mp_main__")
  File "<frozen runpy>", line 287, in run_path
  File "<frozen runpy>", line 98, in _run_module_code
  File "<frozen runpy>", line 88, in _run_code
  File "/mnt/f/Progetti_WSL/seo-auditing-solution/main.py", line 8, in <module>
    from app.routers import clients, websites, scans
  File "/mnt/f/Progetti_WSL/seo-auditing-solution/app/routers/clients.py", line 11, in <module>
    ClientWithWebsites.model_rebuild()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/pydantic/main.py", line 654, in model_rebuild
    raise exc from e
pydantic.errors.PydanticUndefinedAnnotation: name 'WebsiteResponse' is not defined

For further information visit https://errors.pydantic.dev/2.11/u/undefined-annotation
WARNING:  StatReload detected changes in 'app/routers/clients.py'. Reloading...
<frozen importlib._bootstrap>:488: RuntimeWarning: The global interpreter lock (GIL) has been enabled to load module 'greenlet._greenlet', which has not declared that it can run safely without the GIL. To override this behavior and keep the GIL disabled (at your own risk), run with PYTHON_GIL=0 or -Xgil=0.
INFO:     Started server process [6314]
INFO:     Waiting for application startup.
2025-06-15 14:30:38,490 - root - INFO - Starting SEO Auditing Solution...
2025-06-15 14:30:38,510 - app.database - INFO - Database tables created successfully
2025-06-15 14:30:38,510 - root - INFO - Database initialized successfully
INFO:     Application startup complete.
INFO:     127.0.0.1:35818 - "GET /openapi.json HTTP/1.1" 200 OK
INFO:     127.0.0.1:51568 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:51568 - "GET / HTTP/1.1" 200 OK
INFO:     127.0.0.1:51568 - "GET /api/v1/clients/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:51568 - "GET /api/v1/websites/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:51578 - "GET /docs HTTP/1.1" 200 OK
INFO:     127.0.0.1:51578 - "GET /openapi.json HTTP/1.1" 200 OK
INFO:     127.0.0.1:33116 - "GET /robots.txt?486108 HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:52274 - "GET /api/v1/websites/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:52274 - "POST /api/v1/scans/ HTTP/1.1" 201 Created
INFO:     127.0.0.1:52274 - "GET /api/v1/scans/1 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52274 - "GET /api/v1/scans/ HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'app/core/config.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-06-15 14:38:09,503 - root - INFO - Shutting down...
2025-06-15 14:38:09,505 - app.database - INFO - Database connections closed
2025-06-15 14:38:09,506 - root - INFO - Database connections closed
INFO:     Application shutdown complete.
INFO:     Finished server process [6314]
<frozen importlib._bootstrap>:488: RuntimeWarning: The global interpreter lock (GIL) has been enabled to load module 'greenlet._greenlet', which has not declared that it can run safely without the GIL. To override this behavior and keep the GIL disabled (at your own risk), run with PYTHON_GIL=0 or -Xgil=0.
Traceback (most recent call last):
  File "<string>", line 1, in <module>
    from multiprocessing.spawn import spawn_main; spawn_main(tracker_fd=5, pipe_handle=7)
                                                  ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/multiprocessing/spawn.py", line 131, in _main
    prepare(preparation_data)
    ~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/multiprocessing/spawn.py", line 246, in prepare
    _fixup_main_from_path(data['init_main_from_path'])
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/multiprocessing/spawn.py", line 297, in _fixup_main_from_path
    main_content = runpy.run_path(main_path,
                                  run_name="__mp_main__")
  File "<frozen runpy>", line 287, in run_path
  File "<frozen runpy>", line 98, in _run_module_code
  File "<frozen runpy>", line 88, in _run_code
  File "/mnt/f/Progetti_WSL/seo-auditing-solution/main.py", line 7, in <module>
    from app.database import init_db, close_db
  File "/mnt/f/Progetti_WSL/seo-auditing-solution/app/database.py", line 24, in <module>
    engine = create_async_engine(settings.async_database_url, **engine_kwargs)
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/sqlalchemy/ext/asyncio/engine.py", line 120, in create_async_engine
    sync_engine = _create_engine(url, **kw)
  File "<string>", line 2, in create_engine
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/sqlalchemy/util/deprecations.py", line 281, in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/sqlalchemy/engine/create.py", line 602, in create_engine
    dbapi = dbapi_meth(**dbapi_args)
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 1100, in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
                                    ~~~~~~~~~~^^^^^^^^^^^
ModuleNotFoundError: No module named 'asyncpg'
WARNING:  StatReload detected changes in 'app/core/config.py'. Reloading...
<frozen importlib._bootstrap>:488: RuntimeWarning: The global interpreter lock (GIL) has been enabled to load module 'greenlet._greenlet', which has not declared that it can run safely without the GIL. To override this behavior and keep the GIL disabled (at your own risk), run with PYTHON_GIL=0 or -Xgil=0.
Traceback (most recent call last):
  File "<string>", line 1, in <module>
    from multiprocessing.spawn import spawn_main; spawn_main(tracker_fd=5, pipe_handle=7)
                                                  ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/multiprocessing/spawn.py", line 131, in _main
    prepare(preparation_data)
    ~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/multiprocessing/spawn.py", line 246, in prepare
    _fixup_main_from_path(data['init_main_from_path'])
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/multiprocessing/spawn.py", line 297, in _fixup_main_from_path
    main_content = runpy.run_path(main_path,
                                  run_name="__mp_main__")
  File "<frozen runpy>", line 287, in run_path
  File "<frozen runpy>", line 98, in _run_module_code
  File "<frozen runpy>", line 88, in _run_code
  File "/mnt/f/Progetti_WSL/seo-auditing-solution/main.py", line 7, in <module>
    from app.database import init_db, close_db
  File "/mnt/f/Progetti_WSL/seo-auditing-solution/app/database.py", line 24, in <module>
    engine = create_async_engine(settings.async_database_url, **engine_kwargs)
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/sqlalchemy/ext/asyncio/engine.py", line 120, in create_async_engine
    sync_engine = _create_engine(url, **kw)
  File "<string>", line 2, in create_engine
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/sqlalchemy/util/deprecations.py", line 281, in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/sqlalchemy/engine/create.py", line 602, in create_engine
    dbapi = dbapi_meth(**dbapi_args)
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 1100, in import_dbapi
    return AsyncAdapt_asyncpg_dbapi(__import__("asyncpg"))
                                    ~~~~~~~~~~^^^^^^^^^^^
ModuleNotFoundError: No module named 'asyncpg'
WARNING:  StatReload detected changes in 'app/core/config.py'. Reloading...
<frozen importlib._bootstrap>:488: RuntimeWarning: The global interpreter lock (GIL) has been enabled to load module 'greenlet._greenlet', which has not declared that it can run safely without the GIL. To override this behavior and keep the GIL disabled (at your own risk), run with PYTHON_GIL=0 or -Xgil=0.
Traceback (most recent call last):
  File "<string>", line 1, in <module>
    from multiprocessing.spawn import spawn_main; spawn_main(tracker_fd=5, pipe_handle=7)
                                                  ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/multiprocessing/spawn.py", line 122, in spawn_main
    exitcode = _main(fd, parent_sentinel)
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/multiprocessing/spawn.py", line 131, in _main
    prepare(preparation_data)
    ~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/multiprocessing/spawn.py", line 246, in prepare
    _fixup_main_from_path(data['init_main_from_path'])
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/multiprocessing/spawn.py", line 297, in _fixup_main_from_path
    main_content = runpy.run_path(main_path,
                                  run_name="__mp_main__")
  File "<frozen runpy>", line 287, in run_path
  File "<frozen runpy>", line 98, in _run_module_code
  File "<frozen runpy>", line 88, in _run_code
  File "/mnt/f/Progetti_WSL/seo-auditing-solution/main.py", line 7, in <module>
    from app.database import init_db, close_db
  File "/mnt/f/Progetti_WSL/seo-auditing-solution/app/database.py", line 24, in <module>
    engine = create_async_engine(settings.async_database_url, **engine_kwargs)
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/sqlalchemy/ext/asyncio/engine.py", line 120, in create_async_engine
    sync_engine = _create_engine(url, **kw)
  File "<string>", line 2, in create_engine
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/sqlalchemy/util/deprecations.py", line 281, in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/sqlalchemy/engine/create.py", line 602, in create_engine
    dbapi = dbapi_meth(**dbapi_args)
  File "/home/claudio/.asdf/installs/python/3.13.2t/lib/python3.13t/site-packages/sqlalchemy/dialects/postgresql/psycopg2.py", line 696, in import_dbapi
    import psycopg2
ModuleNotFoundError: No module named 'psycopg2'
INFO:     Stopping reloader process [6051]
